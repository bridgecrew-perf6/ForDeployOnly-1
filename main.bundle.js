(()=>{"use strict";var e={588:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(476),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,"* {\n  margin: 0;\n  padding: 0;\n}\n\n:root {\n  font-size: 10px;\n}\n\nul, \nol {\n  list-style: none;\n}\n\nbutton:hover {\n  cursor: pointer;\n}\n\nbody {\n  padding-left: 50px;\n\n  font-size: 2rem;\n\n  background-color: rgb(202, 194, 156);\n  width: 25%;\n  min-width: 400px;\n  margin: 0 auto;\n}\n\n.input-expense {\n  width: 100px;\n}\n\n.report {\n  width: 100%;\n  max-height: 300px;\n  overflow-y: auto;\n\n  border: 2px solid black;\n}\n\n.record-container {\n  display: flex;\n  margin-bottom: 5px;\n  padding-left: 20px;\n}\n\n.record-container * {\n  margin-right: 10px;\n}\n\n.navigate-interval {\n  display: flex;\n  justify-content: space-between;\n  width: 180px;\n}\n\nbutton[disabled] {\n  cursor: default;\n}",""]);const o=a},476:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(r)for(var o=0;o<this.length;o++){var c=this[o][0];null!=c&&(a[c]=!0)}for(var i=0;i<e.length;i++){var s=[].concat(e[i]);r&&a[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s))}},t}},892:(e,t,n)=>{var r,a=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function c(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function i(e,t){for(var n={},r=[],a=0;a<e.length;a++){var i=e[a],s=t.base?i[0]+t.base:i[0],l=n[s]||0,u="".concat(s," ").concat(l);n[s]=l+1;var d=c(u),p={css:i[1],media:i[2],sourceMap:i[3]};-1!==d?(o[d].references++,o[d].updater(p)):o.push({identifier:u,updater:g(p,t),references:1}),r.push(u)}return r}function s(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var c=a(e.insert||"head");if(!c)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");c.appendChild(t)}return t}var l,u=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function d(e,t,n,r){var a=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=u(t,a);else{var o=document.createTextNode(a),c=e.childNodes;c[t]&&e.removeChild(c[t]),c.length?e.insertBefore(o,c[t]):e.appendChild(o)}}function p(e,t,n){var r=n.css,a=n.media,o=n.sourceMap;if(a?e.setAttribute("media",a):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var f=null,m=0;function g(e,t){var n,r,a;if(t.singleton){var o=m++;n=f||(f=s(t)),r=d.bind(null,n,o,!1),a=d.bind(null,n,o,!0)}else n=s(t),r=p.bind(null,n,t),a=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else a()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=i(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var a=c(n[r]);o[a].references--}for(var s=i(e,t),l=0;l<n.length;l++){var u=c(n[l]);0===o[u].references&&(o[u].updater(),o.splice(u,1))}n=s}}}}},t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={id:r,exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=n(892),t=n.n(e),r=n(588);function a(){return JSON.parse(localStorage.getItem("expenses"))||[]}function o(e="all",t){const n=a();let r;switch(e){case"day":return r=n.filter((({date:e})=>new Date(e).getDate()===new Date(t).getDate()&&new Date(e).getMonth()===new Date(t).getMonth()&&new Date(e).getFullYear()===new Date(t).getFullYear())),r;case"month":return r=n.filter((({date:e})=>new Date(e).getMonth()===new Date(t).getMonth()&&new Date(e).getFullYear()===new Date(t).getFullYear())),r;case"year":return r=n.filter((({date:e})=>new Date(e).getFullYear()===new Date(t).getFullYear())),r;case"all":default:return n}}function c(e){return e<10?`0${e}`:e}t()(r.Z,{insert:"head",singleton:!1}),r.Z.locals;const i=document.querySelector("#interval-select"),s=["January","February","March","April","May","June","July","August","September","October","November","December"];class l{constructor(){this.createReport()}groupExpenses(){const e=document.querySelector("#interval"),t=+e.dataset.date;console.log(e,t);const n=o(i.value,t);return console.log(i.value,t,n),n.reduce(((e,{category:t},n,r)=>{const a=t;return e.hasOwnProperty(a)||(e[a]=r.filter((({category:e})=>e===a))),e}),{})}deleteRecord(e){const t=+document.querySelector("#interval").dataset.date,n=[...o(i.value,t)],r=e.dataset.id;if(e.classList.contains("delete-record")){const e=n.findIndex((({id:e})=>e===r));n.splice(e,1),localStorage.setItem("expenses",JSON.stringify(n)),this.updateReport()}}createReport(){this.report=document.createElement("ul"),this.report.addEventListener("click",(({target:e})=>{this.deleteRecord(e)}));const e=new DocumentFragment,t=document.createElement("hr"),n=this.groupExpenses();return Object.keys(n).sort().forEach((r=>{const a=document.createElement("li"),o=n[r],i=o.reduce(((e,{value:t})=>e+t),0);a.textContent=`${r}: -${i} BYN`;const l=o.sort(((e,t)=>new Date(t.date)-new Date(e.date))),u=document.createElement("ul");l.forEach(((e,t)=>{const n=document.createElement("div");n.classList.add("record-container");const r=new Date(l[t].date),a=r.getDate(),o=r.getMonth(),i=r.getFullYear(),d=document.createElement("li"),p=`${c(a)} ${s[o]} ${i}`;d.textContent=`\n          -${l[t].value} BYN;\n          ${p}`;const f=document.createElement("button");f.classList.add("delete-record"),f.dataset.id=l[t].id,f.textContent="âœ–",n.append(f),n.append(d),u.append(n)})),a.append(u),a.append(t.cloneNode()),e.append(a)})),this.report.append(e),this.report}updateReport(){document.querySelector("#report>ul").replaceWith(this.createReport())}renderIn(e){e.append(this.report)}}const u=document.querySelector("#category-select"),d=document.querySelector(".input-expense"),p=document.querySelector("#save"),f=document.querySelector("#expense-date");function m(){const e="1234567890abcdefg",t=e.length;let n="";for(let r=0;r<t;r+=1)n+=e[Math.trunc(Math.random()*t)];return n}function g(){d.setAttribute("disabled",!0),p.setAttribute("disabled",!0),f.setAttribute("disabled",!0)}function h(){const e=+d.value;return Number.isFinite(e)&&e>0}u.addEventListener("change",(()=>{"none"!==u.value?(d.removeAttribute("disabled"),p.removeAttribute("disabled"),f.removeAttribute("disabled")):g(),function(){const e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),a=`${t}-${c(n+1)}-${c(r)}`;f.value=a,f.max=a}()})),d.addEventListener("input",(function(){h()?d.style.color="black":d.style.color="red"}));const v=document.querySelector("#interval-select"),y=document.querySelector("#interval");function b(e){const t=new Date(e),n=t.getDate(),r=t.getMonth(),a=t.getFullYear();y.dataset.date=`${new Date(a,r,n).getTime()}`}function w(e){const t=new Date(e),n=t.getDate(),r=t.getMonth(),a=t.getFullYear();switch(v.value){case"day":return`${c(n)}.${c(r+1)}.${a}`;case"month":return`${c(r+1)}.${a}`;case"year":return`${a}`;case"all":return"all expenses"}}const x=document.querySelector("#report"),D=document.querySelector("#save"),S=document.querySelector("#interval-select"),M=document.querySelector("#interval"),E=document.querySelector(".navigate-interval"),F=document.querySelector("#audio");document.addEventListener("DOMContentLoaded",(()=>{const e=(new Date).getTime();M.textContent=w(e),b(e);const t=new l;t.renderIn(x),D.addEventListener("click",(()=>{h()&&(F.play(),function(){const e=a();e.push({value:+d.value,category:u.value,date:f.value,id:m()}),localStorage.setItem("expenses",JSON.stringify(e))}(),u.selectedIndex=0,d.value="",f.value="",g(),t.updateReport())})),S.addEventListener("change",(()=>{const e=+M.dataset.date;M.textContent=w(e),t.updateReport()})),E.addEventListener("click",(({target:e})=>{const n=+M.dataset.date,r=S.value;let a;switch(e.id){case"prev":a=function(e,t){const n=new Date(t);let r;switch(e){case"day":return n.setDate(n.getDate()-1),r=n.getTime(),r;case"month":return n.setMonth(n.getMonth()-1),r=n.getTime(),r;case"year":return n.setFullYear(n.getFullYear()-1),r=n.getTime(),r;case"all":return"all expenses"}}(r,n);break;case"next":a=function(e,t){const n=new Date(t);let r;switch(e){case"day":return n.setDate(n.getDate()+1),r=n.getTime(),r;case"month":return n.setMonth(n.getMonth()+1),r=n.getTime(),r;case"year":return n.setFullYear(n.getFullYear()+1),r=n.getTime(),r;case"all":return"all expenses"}}(r,n)}b(a),M.textContent=w(a),t.updateReport()}))}))})()})();